<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Validate form</title>
    <style>
        .wrap {
            display: flex;
            justify-content: center;
        }
        form{
            display: flex;
            justify-content: center;
            flex-direction: column;
        }
        label{
            display: block;
            margin-top: 25px;
        }
        input{
            width: 100%;
            padding: 5px 10px;
        }
        input:focus{
            border-color: #57b0ff;
        }
        button{
            background-color: #0c3e69;
            color: azure;
            border-radius: 10px;
            font-size: 1.2em;
            margin-top: 30px;
            padding: 10px;
            cursor: pointer;
        }
        .invalid-feedback{
            border-color: #ff0000;
        }
        .error{
            margin-top: 5px;
            padding: 5px;
            color: red;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <form id="form">
            <label for="">Имя
                <input type="text" name="name">
            </label>
            <label for="">Телефон
                <input type="text" name="phone">
            </label>
            <label for="">Пароль
                <input type="password" name="password">
            </label>
            <label for="">Повтор пароля
                <input type="password" name="password1">
            </label>
            <button type="submit">Отправить</button>
        </form>
    </div>
    <script>
        "use strict";

        /*
        Создать форму в html со следующими полями:
            * Имя - текстовое поле
            * Телефон - текстовое поле
            * Пароль - поле типа password
            * Повтор пароля - поле типа password
            * Кнопка отправить форму

            Необходимо реализовать валидацию этой формы по следующим правилам:

            * Имя - должно содержать как минимум 1 символ, не более 50 символов.
            * Телефон - должно содержать 11 цифр, не больше, не меньше.
            * Пароль - минимум 5 символов, максимум 50.
            * Повтор пароля - значение должно совпадать с полем пароль.
            * Кнопка отправить форму - при нажатии на кнопку форма должна провериться, при прохождении проверки, форма
            отправляется, если проверка не была пройдена, то:
            - Каждое поле, которое не прошло проверку должно выделяться красным цветом.
            - Под каждым полем, что не прошло проверку, должна писаться подсказка по какой причине проверка провалилась.

            Можете пользоваться стилями бутстрапа, если лень самим писать.
            Пользоваться аттрибутами HTML5 запрещено, необходимо проверки реализовать с помощью javascript.
        */
        const btn = document.querySelector('button');
        btn.addEventListener('click', function (event) {
            event.preventDefault();
            const validator = new Validator(event.target.form);
            const valid = validator.validateForm();
            if (valid){event.target.form.submit();}
        });

        class Validator {
            constructor(form) {
                this.form = form;
            };
             /**
             * Функция создает элемент с выводом ошибки валидации
             * @parmas {string} - текст ошибки
             * @parmas {Node} - элемент после которого в форме необходимо вывести ошибку
             * */
            createErrorBlock(msg, node) {
                const block = document.createElement('div');
                block.classList.add('error');
                block.innerText = msg;
                this.form.insertBefore(
                    block,
                    node.parentNode.nextSibling
                );
            };
            /**
             * Функция валидации имени
             * @return {bool} - возращает true если все верно
             * */
            name() {
                const nameInput = this.form.querySelector('input[name="name"]');
                if (nameInput.value.length < 1 || nameInput.value.length > 50) {
                    nameInput.classList.add('invalid-feedback');
                    this.createErrorBlock(
                        'Имя должно содержать больше 1го симовла',
                        nameInput
                    )
                    return false;
                } else {
                    nameInput.classList.remove('invalid-feedback');
                }
                return true;
            };
            /**
             * Функция валидации телефонного номера
             * @return {bool} - возращает true если все верно
             * */
            phone() {
                const phoneInput = this.form.querySelector('input[name="phone"]');
                if (phoneInput.value.length !== 11) {
                    phoneInput.classList.add('invalid-feedback');
                    this.createErrorBlock(
                        'В телефоне должно быть 11 цифр!',
                        phoneInput
                    );
                    return false;
                } else {
                    phoneInput.classList.remove('invalid-feedback');
                }
                return true;
            };
            /**
             * Функция валидации пароля
             * @return {boolean} - возращает true если все верно
             * */
            password() {
                const passwordInput = this.form.querySelector('input[name="password"]');
                const passwordInput1 = this.form.querySelector('input[name="password1"]');
                if (passwordInput.value.length < 5 || passwordInput.value.length > 50) {
                    passwordInput.classList.add('invalid-feedback');
                    return false;
                } else {
                    passwordInput.classList.remove('invalid-feedback');
                }
                if (passwordInput.value !== passwordInput1.value) {
                    this.createErrorBlock(
                        'Пароли не совпадают!',
                        passwordInput
                    )
                    return false;
                }
                return true;
            };
            /**
             * Функция точка входа - валидация всех полей
             * */
            validateForm() {
                this.form.querySelectorAll('.error').forEach(function(error){
                    error.remove();
                });
                const name = this.name();
                const phone = this.phone();
                const password = this.password();

                return ( name && phone && password );
            };
        }
    </script>
</body>

</html>